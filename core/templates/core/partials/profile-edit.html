{% include 'poolstore/partials/messages.html' %}



<form method="post" class="needs-validations" hx-post="/users/save_profile/" hx-target="#edit-profile">
    {% csrf_token %}
    <div class="form-floating my-2">
        {{ form.username }}
        <label for="username">Username</label>

        
        {% if form.username.errors %}
        <div class="invalid-feedback">
            {% for error in form.username.errors %}
                <div>
                    {{ error }}
                </div>
            {% endfor %}
        </div>
        {% endif %}

        <div id="username-error">

        </div>
        
    </div>


    <div class="form-floating my-2">
        {{ form.first_name }}
        <label for="first_name">First Name</label>

        
        {% if form.first_name.errors %}
        <div class="invalid-feedback">
            {% for error in form.first_name.errors %}
                <div>
                    {{ error }}
                </div>
            {% endfor %}
        </div>
        {% endif %}

     
        
    </div>


    <div class="form-floating my-2">
        {{ form.last_name }}
        <label for="first_name">First Name</label>

        
        {% if form.last_name.errors %}
        <div class="invalid-feedback">
            {% for error in form.last_name.errors %}
                <div>
                    {{ error }}
                </div>
            {% endfor %}
        </div>
        {% endif %}

     
        
    </div>


    <div class="mt-4 text-center">
        <button class="btn btn-info" type="submit">Save Profile</button>
    </div>


    

</form>



<script>
document.addEventListener('htmx:afterSwap', (event) => {
        
        const form = document.querySelector('.needs-validations');
        Array.from(form.elements).forEach(input => {
            input.addEventListener('input', () => {
            input.classList.remove('is-invalid');
            });
        });
    
    });

</script>
